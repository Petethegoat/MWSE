#pragma once

namespace mwse::mcp {
	namespace feature {
		enum Feature : long {
			SavegameCorruptionFix = 1,
			MercantileFix = 2,
			UnarmoredFix = 3,
			CalendarFix = 4,
			MerchantEquippingFix = 5,
			RestoreDrainAttributesFix = 6,
			StreamMusicMasterVolumeFix = 7,
			CalmSpellsFix = 8,
			VampireStatsFix = 9,
			ReflectedSpellsFix = 10,
			ShowTransparentClothesInTheInventory = 11,
			EnchantGlowInFogFix = 12,
			ShowNPCHealthBarOnHealing = 13,
			EnchantingIncreasesItemValue = 14,
			AllowStealingFromKOedNPCs = 15,
			SpellmakingMaxMagnitudeIncrease = 16,
			SpellmakingMaxDurationReduced = 17,
			ExhaustNPCsWithDamageFatigue = 18,
			DispositionFix = 19,
			SpellMagnitudeFix = 20,
			DispelFix = 21,
			CreatureArmorDamageFix = 22,
			InventoryBugsFix = 23,
			NPCPotionUseAI = 24,
			BlindFix = 25,
			GlossMapFix = 26,
			LightingFixesGroup = 27,
			ParticleEffectsFix = 29,
			ProjectileAimingFix = 30,
			WaterwalkFix = 32,
			TrainingPriceStatsFix = 33,
			TravelPriceFix = 34,
			AllowReflectionEffectsOnSkinnedModels = 35,
			CreatemapsFillmapFix = 36,
			DelayedSpellCrashFix = 37,
			LoudInterfaceGameplaySoundsFix = 38,
			BetterQualitySplashAndTitleScreens = 39,
			StrengthBasedHandToHandDamage = 40,
			SpellmakerEnchantMultipleEffects = 41,
			SpellmakerAreaEffectCost = 42,
			ArrowEnchanting = 43,
			FortifyMaximumHealth = 44,
			ToggleSneak = 45,
			PlaceAtDropFix = 46,
			SpellDeselectionBugFix = 47,
			LevelUpStatsBugFix = 48,
			BoundItemsExpiryFix = 49,
			StableEnchantmentSort = 50,
			FogOfWarFix = 51,
			IntimidateFix = 52,
			MagickaDisplayAccuracy = 53,
			HiDefCutsceneSupport = 54,
			AlchemyNamingStackingFix = 55,
			SpellmakerEnchantEditEffectFix = 56,
			AllowScrollEnchantPriceModifier = 57,
			SaveFileLimitWarning = 58,
			MultipleAttributeFortifyPotions = 64,
			SoulgemValueRebalance = 65,
			OnUseRingExtraSlot = 66,
			NPCAICastsZeroCostPowers = 67,
			PermanentBarterDispositionChanges = 68,
			EnchantedItemCooldown = 69,
			HiddenTraps = 70,
			SwiftCasting = 71,
			BlightStormDiseaseFix = 72,
			RacialVariationInSpeedFix = 73,
			GameFormulaRestoration = 74,
			CreatureArmorRatingFix = 75,
			DisableWeaponTransitionOnUnequip = 76,
			PickpocketOverhaul = 77,
			SlowfallOnCompanionsFix = 79,
			DrainIntelligenceExploitFix = 80,
			MouseoverMenuDisplayFixes = 81,
			ShortcutKeyImprovements = 82,
			DetectWaterLevelFix = 83,
			ServiceRefusalFiltering = 84,
			ArmorIndicatorFix = 85,
			DetectLifeSpellVariant = 86,
			ScriptedMusicUninterruptible = 87,
			ArgonianClothingChoice = 88,
			VanityCameraLock = 89,
			AlchemyPotionWeightRebalance = 90,
			ItemRechargingRebalance = 91,
			SummonedCreatureCrashFix = 92,
			RepairItemFixes = 93,
			BookAndScrollScalingFix = 94,
			VoiceoverScriptFunctionsFix = 95,
			WeaponReachIssues = 96,
			InitializingDataFix = 97,
			AnimatedContainerCrashFix = 98,
			LightSpellFix = 99,
			AllowFactionLeaving = 100,
			SlowMovementAnimFix = 101,
			ModRemovalFixes = 102,
			PlaySoundVPVolumeFix = 103,
			FixEnchantOptionsOnRanged = 104,
			PreventEmptyMessages = 105,
			HiddenLocks = 106,
			DontLootOnDispose = 107,
			AttributeUncap = 108,
			HitFaderFix = 109,
			SkillUncap = 110,
			WeaponResistanceChange = 111,
			DisintegrateFix = 112,
			IncorrectInventorySoundsFix = 113,
			SeparateAxeInventorySounds = 114,
			ConfiscatedItemFix = 115,
			WaterEnvironmentSoundFix = 116,
			TalkedToPCExtension = 117,
			DroppingFromInventoryFix = 118,
			CreatureVoiceoverEnable = 119,
			LockLevelScripting = 120,
			SelfEnchantingFix = 121,
			AmmunitionFix = 122,
			PlaceItemFix = 123,
			CreatureMagickaFatigueFix = 124,
			PositionPositionCellFix = 125,
			TelekinesisFix = 126,
			MapTextureConflictFix = 127,
			RainSnowCollision = 128,
			OverTheShoulderThirdPersonCamera = 130,
			BumpReflectMapLocalLighting = 131,
			ImprovedAnimationSupport = 132,
			ReduceCameraClipping = 133,
			NPCMinorBehaviourFixes = 134,
			AmmoFixes = 135,
			ResolutionOptionsFix = 136,
			SlowfallOverhaul = 137,
			CellChangedFix = 138,
			BarterGoldResetFix = 139,
			ImprovedLoadingSpeed = 140,
			ScriptExpressionParserFix = 141,
			TwoHandedWeaponRemovesShield = 142,
			GetSetAngleEnhancement = 143,
			BetterRecharging = 144,
			QualityBasedPotionIconsModels = 145,
			ArrowDeNocker = 146,
			HealthyAppetite = 147,
			SpellmakerEnchantingImprovement = 148,
			SafeDisposeCorpse = 149,
			ShieldHitLocationFix = 150,
			SelfEnchantingSuccessChance = 151,
			FirstPersonSwimAnimations = 152,
			MouseCursorMovementFix = 153,
			ScriptDataFix = 154,
			SneakingBootsPenaltyFix = 155,
			SpellmakingMatchesEditor = 156,
			AllowGlovesWithBracers = 157,
			GetWeaponTypeFix = 158,
			ProbeQualityFix = 159,
			RemoveItemWeightFix = 160,
			GetSpellEffectsTweak = 161,
			SeeAllStandardPotionEffects = 162,
			BowSoundGlitchFix = 163,
			FixReadingVarsFromAGlobalScript = 164,
			AIActivateEnhancement = 165,
			ScriptablePotionUse = 166,
			ContainerRespawnTimescale = 167,
			AvoidBlameForNeutralNPCDeaths = 168,
			MultipleSummonsOverlapFix = 169,
			BarterHaggleFix = 170,
			MenuModeWorldInteractionFix = 171,
			EnchantedItemRebalance = 172,
			NPCRankChangeFix = 173,
			AddItemWithLevelledItems = 174,
			MoveWorldZFix = 175,
			SpellEffectTooltipFix = 176,
			GetEffectRemoveEffectsFix = 177,
			LoadWarningCrashFix = 178,
			FollowersDefendImmediately = 179,
			EquipScriptFix = 180,
			DopplerAudioFix = 181,
			AutoStackAmmunition = 182,
			SeaWaterSoundFalloffFix = 183,
			ActorCollisionBoxFix = 184,
			SlidingAfterJumpingFix = 185,
			FallingCreaturesCollisionFix = 186,
			MapExpansionForTamrielRebuilt = 256,
			MainMenuWiderTextures = 257,
			DisableMapSmoothing = 258,
			DisplayMoreAccurateItemWeight = 259,
			PolishKeyboardSupport = 260,
			UnRestrictMenuSize = 261,
			LargerServiceChargenMenus = 262,
			JapaneseLocalization = 263,
			RussianFixes = 264,
			JournalTextColourConfiguration = 265,
			PolishCharacterCorrections = 266,
			UIDisplayQualityFix = 267,
			SpellSelectByName = 268,
			BetterIngredientAndItemSelector = 269,
			BetterTypography = 270,
			PersuasionImprovement = 271,
			ImprovedInventoryFilters = 272,
			OwnershipTooltip = 273,
			BetterSpellMerchants = 274,
			LevelUpSkillsTooltip = 275,
			ConvenientDefaults = 276,
			BetterHaggling = 277,
		};
	}

	// Type of the storage we use for keeping track of MCP features.
	typedef std::map<long, bool> FeatureStoreMap_t;

	// Storage for the features we've detected as installed by MCP.
	extern FeatureStoreMap_t featureStore;

	// Loads the feature list from MCP files.
	bool loadFeatureList();

	// Returns true if a given feature is enabled.
	bool getFeatureEnabled(long id);

	// Returns true if MWSE was able to parse features.
	bool hasFeaturesFound();
}
